(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{46:function(e,t,n){e.exports=n(73)},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),i=n.n(c),o=n(9),l=n(20),s=(n(55),n(22)),u=n(18),m=function(e){return{type:"FILTER_PRODUCT",filter:e}},p=function(e){return{type:"SORT_PRODUCT",sortBy:e}},d=n(4),f=n(5),h=n(7),E=n(6),v=n(44),g=n(86),b=n(88),O=(n(56),Object(g.a)({root:{padding:"30px 30px 10px 30px",boxSizing:"border-box"}}));function C(e){return e}var y=function(e){var t=e.handleRangeChange,n=O(),a=r.a.useState([100,1e4]),c=Object(v.a)(a,2),i=c[0],o=c[1];return r.a.createElement("div",{className:n.root},r.a.createElement("div",null,r.a.createElement("span",{className:"minValueLabel"},"\u20b9",i[0]),r.a.createElement("span",{className:"maxValueLabel"},"\u20b9",i[1])),r.a.createElement(b.a,{value:i,onChange:function(e,n){o(n),t(n)},valueLabelDisplay:"auto",min:100,max:1e4,step:100,defaultValue:[100,1e4],"aria-labelledby":"range-slider",getAriaValueText:C}))},N=(n(57),function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handleRangeChange=function(t){e.setState({rangeValue:t})},e.handleOnClick=function(){e.props.filterProduct(e.state.rangeValue)},e.state={rangeValue:[100,1e4]},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.filterProduct(this.state.rangeValue)}},{key:"render",value:function(){return r.a.createElement("div",{className:"filterContainer"},r.a.createElement("div",{className:"filterLabel"},"Filters"),r.a.createElement(y,{handleRangeChange:this.handleRangeChange}),r.a.createElement("button",{className:"applyBtn",onClick:this.handleOnClick},"Apply"))}}]),n}(r.a.Component)),j=Object(o.b)((function(){return{}}),(function(e){return{filterProduct:function(t){return e(m(t))}}}))(N),P=(n(58),[{id:1,text:"Price -- High to Low",value:"HighToLow"},{id:2,text:"Price -- Low to High",value:"LowToHigh"},{id:3,text:"Discount",value:"Discount"}]),T=function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).changeSortOption=function(t){e.setState({selectedOptionId:t})},e.hidePopup=function(){e.setState({showPopup:!1})},e.applySort=function(){e.setState({showPopup:!1});var t=P.find((function(t){return t.id===e.state.selectedOptionId}));e.props.sortProduct(t)},e.state={selectedOptionId:1,showPopup:!0},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){1===this.state.selectedOptionId&&this.props.sortProduct(P[0]),this.setState({showPopup:!0})}},{key:"render",value:function(){var e=this;return this.state.showPopup?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mobileSort"},r.a.createElement("div",{className:"title"},"Sort Options"),P.map((function(t){return r.a.createElement("div",null,r.a.createElement("input",{onChange:function(){return e.changeSortOption(t.id)},name:"sort-radio-btn",type:"radio",id:t.value,checked:t.id===e.state.selectedOptionId}),r.a.createElement("label",{for:t.value},t.text))})),r.a.createElement("button",{onClick:this.hidePopup,className:"cancelBtn"},"Cancel"),r.a.createElement("button",{onClick:this.applySort,className:"applyBtn"},"Apply")),r.a.createElement("div",{onClick:this.hidePopup,className:"overlay"})):null}}]),n}(r.a.Component),L=Object(o.b)((function(){return{}}),(function(e){return{sortProduct:function(t){return e(p(t))}}}))(T),S=(n(59),function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handleRangeChange=function(t){e.setState({rangeValue:t})},e.hidePopup=function(){e.setState({hidePopup:!0})},e.handleOnClick=function(){e.props.filterProduct(e.state.rangeValue),e.setState({hidePopup:!0})},e.state={rangeValue:[100,1e4],hidePopup:!1},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.filterProduct(this.state.rangeValue)}},{key:"render",value:function(){return this.state.hidePopup?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mobileFilter"},r.a.createElement("div",{className:"filterLabel"},"Filter Options"),r.a.createElement(y,{handleRangeChange:this.handleRangeChange}),r.a.createElement("button",{onClick:this.hidePopup,className:"cancelBtn"},"Cancel"),r.a.createElement("button",{className:"applyBtn",onClick:this.handleOnClick},"Apply")),r.a.createElement("div",{onClick:this.hidePopup,className:"overlay"}))}}]),n}(r.a.Component)),I=Object(o.b)((function(){return{}}),(function(e){return{filterProduct:function(t){return e(m(t))}}}))(S),k=(n(60),function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).renderSort=function(){e.setState({renderSort:!0})},e.renderFilter=function(){e.setState({renderFilter:!0})},e.state={renderSort:!1,renderFilter:!1},e}return Object(f.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.renderSort?r.a.createElement(L,null):null,this.state.renderFilter?r.a.createElement(I,null):null,r.a.createElement("div",{className:"filterBar"},r.a.createElement("button",{onClick:this.renderSort},"Sort"),r.a.createElement("button",{onClick:this.renderFilter},"Filter")))}}]),n}(r.a.Component)),R=n(10),D="/empty-cart.png",w="empty-cart",x="/search_no_result.png",_="no-result-found",F=[{id:1,src:"/item1.jpg",title:"item1"},{id:2,src:"/item2.jpg",title:"item2"},{id:3,src:"/item3.jpg",title:"item3"},{id:4,src:"/item4.jpg",title:"item4"},{id:5,src:"/item5.jpg",title:"item5"},{id:6,src:"/item6.jpg",title:"item6"},{id:7,src:"/item7.jpg",title:"item7"},{id:8,src:"/item8.jpg",title:"item8"}],H=(n(61),function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).addToCart=function(t){e.props.addToCart(t)},e.renderLoader=function(){return e.state.productList.loading?r.a.createElement("div",{className:"spinnerContainer"},r.a.createElement("div",{className:"spinner"})):r.a.createElement("div",{className:"no-result"},r.a.createElement("img",{className:"no-result-image",src:"/shopping-cart"+x,alt:_}))},e.state={productList:[]},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchProductList()}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.productList,a=e.filter&&e.filter.filter,r=e.sort&&e.sort.sort,c=e&&e.searchText&&e.searchText.text&&e.searchText.text.trim();this.setState({productList:n},(function(){var n=t.state.productList.length?t.state.productList:e.productList,i=[];n.items.forEach((function(e){a&&c?e.name.includes(c)&&e.price.actual>=a.lowerLimit&&e.price.actual<=a.upperLimit&&i.push(e):(a&&e.price.actual>=a.lowerLimit&&e.price.actual<=a.upperLimit||c&&e.name.includes(c))&&i.push(e),r&&("LowToHigh"===r.value?i=i.sort((function(e,t){return e.price.actual-t.price.actual})):"HighToLow"===r.value?i=i.sort((function(e,t){return t.price.actual-e.price.actual})):"Discount"===r.value&&(i=i.sort((function(e,t){return e.discount-t.discount}))))})),t.setState((function(e){return{productList:Object(R.a)({},e.productList,{items:i})}}))}))}},{key:"render",value:function(){var e=this;return this.state.productList&&this.state.productList.items&&this.state.productList.items.length?r.a.createElement("div",{className:"productListContainer"},this.state.productList.items.map((function(t,n){return r.a.createElement("div",{className:"productContainer",key:t.name},r.a.createElement("div",{className:"productImage"},F.map((function(e){var t=e.id,a=e.src,c=e.title;return t===n+1?r.a.createElement("img",{src:"/shopping-cart"+a,alt:c,key:t,className:"image"}):null}))),r.a.createElement("div",{className:"productTitle"},t.name),r.a.createElement("div",{className:"productPriceDetail"},r.a.createElement("span",{className:"actualPrice"},"\u20b9",t.price.actual),r.a.createElement("span",{className:"displayPrice"},t.price.display),r.a.createElement("span",{className:"discountPrice"},t.discount,"% off")),r.a.createElement("button",{className:"addToCartBtn",onClick:function(){return e.addToCart(t)}},"Add to Cart"))}))):this.renderLoader()}}]),n}(r.a.Component));function U(e){if(!e.ok)throw Error(e.statusText);return e}var V=Object(o.b)((function(e){return{cartItems:e.cartItems,productList:e.productList,searchText:e.searchText,filter:e.filterValues,sort:e.sortValues}}),(function(e){return{addToCart:function(t){return e(function(e){return{type:"ADD_TO_CART",items:e}}(t))},fetchProductList:function(){return e((function(e){return e({type:"FETCH_PRODUCTS_BEGIN"}),fetch("https://api.jsonbin.io/b/5e8c3aafaf7c476bc47e47a3").then(U).then((function(e){return e.json()})).then((function(t){return e({type:"FETCH_PRODUCTS_SUCCESS",payload:{items:t.items}}),t.products})).catch((function(t){return e(function(e){return{type:"FETCH_PRODUCTS_FAILURE",payload:{error:e}}}(t))}))}))},filterProduct:function(t){return e(m(t))}}}))(H),A=(n(62),n(63),[{id:1,text:"Price -- High to Low",value:"HighToLow"},{id:2,text:"Price -- Low to High",value:"LowToHigh"},{id:3,text:"Discount",value:"Discount"}]),B=function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).changeSortOption=function(t){var n=A.find((function(e){return e.id===t}));e.setState({selectedOptionId:t}),e.props.sortProduct(n)},e.state={selectedOptionId:1},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){1===this.state.selectedOptionId&&this.props.sortProduct(A[0])}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sort"},r.a.createElement("span",{className:"title"},"Sort by"),A.map((function(t){return r.a.createElement("span",{className:e.state.selectedOptionId===t.id?"option active":"option",onClick:function(){return e.changeSortOption(t.id)}},t.text)})))}}]),n}(r.a.Component),M=Object(o.b)((function(){return{}}),(function(e){return{sortProduct:function(t){return e(p(t))}}}))(B),Q=function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={error:!1},e}return Object(f.a)(n,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?r.a.createElement("div",{className:"error"}):this.props.children}}]),n}(r.a.Component),q=function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement(Q,null,r.a.createElement(k,null),r.a.createElement(j,null),r.a.createElement("div",{className:"rightPane"},r.a.createElement(M,null),r.a.createElement(V,null))))},z=(n(64),function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).decrementQty=function(t){t.qty>1&&e.props.decrementQty(t)},e.renderLeftPanel=function(){return r.a.createElement("div",{className:"shoppingCart"},e.props.products&&e.props.products.cartItems&&e.props.products.cartItems.length?e.props.products.cartItems.map((function(t,n){return r.a.createElement("div",{className:"leftPanel"},r.a.createElement("div",{className:"itemContainer"},r.a.createElement("div",{className:"productImage"},F.map((function(e){var t=e.id,a=e.src,c=e.title;return t===n+1?r.a.createElement("img",{src:"/shopping-cart"+a,alt:c,key:t,className:"image"}):null}))),r.a.createElement("div",{className:"productInfo"},r.a.createElement("div",{className:"productDetails"},r.a.createElement("div",{className:"productTitle"},t.name),r.a.createElement("div",{className:"productPriceDetail"},r.a.createElement("span",{className:"actualPrice"},"\u20b9",t.price.actual),r.a.createElement("span",{className:"displayPrice"},t.price.display),r.a.createElement("span",{className:"discountPrice"},t.discount,"% off"))),r.a.createElement("div",{className:"incDecButtons"},r.a.createElement("button",{onClick:function(){return e.props.incrementQty(t)}},"+"),r.a.createElement("input",{type:"number",value:t.qty}),r.a.createElement("button",{onClick:function(){return e.decrementQty(t)}},"-")),r.a.createElement("div",{className:"removeButtonContainer"},r.a.createElement("button",{onClick:function(){return e.props.removeProduct(t)}},"Remove")))))})):r.a.createElement("img",{className:"empty-cart",src:"/shopping-cart"+D,alt:w}))},e.renderRightPanel=function(){var t=e.props.products&&e.props.products.cartItems&&e.props.products.cartItems.length,n=0,a=0,c=0;return t&&e.props.products.cartItems.forEach((function(e){n+=e.price.display,c+=e.price.actual,a=n-c})),t?r.a.createElement("div",{className:"rightPanel"},r.a.createElement("div",{className:"priceDetails"},r.a.createElement("div",{className:"priceDetailLabel"},"Price Details"),r.a.createElement("div",{className:"priceLabel"},r.a.createElement("span",null,"Price"),r.a.createElement("span",null,":"),r.a.createElement("span",null,"\u20b9",n)),r.a.createElement("div",{className:"discountLabel"},r.a.createElement("span",null,"Discount"),r.a.createElement("span",null,":"),r.a.createElement("span",null,"\u20b9",a)),r.a.createElement("div",{className:"payableAmountLabel"},r.a.createElement("span",null,"Total Payable"),r.a.createElement("span",null,"\u20b9",c)))):null},e}return Object(f.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"shoppingCartContainer"},this.renderLeftPanel(),this.renderRightPanel())}}]),n}(r.a.Component)),Y=Object(o.b)((function(e){return{products:e.cartItems}}),(function(e){return{incrementQty:function(t){return e(function(e){return{type:"INCREMENT_QTY",item:e}}(t))},decrementQty:function(t){return e(function(e){return{type:"DECREMENT_QTY",item:e}}(t))},removeProduct:function(t){return e(function(e){return{type:"REMOVE_PRODUCT",item:e}}(t))}}}))(z),W=n(29),G=n(23),J=(n(68),function(e){Object(h.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getItemsCount=function(){var t=0;return e.props.items&&e.props.items.length&&e.props.items.forEach((function(e){return t+=e.qty})),t},e}return Object(f.a)(n,[{key:"render",value:function(){return r.a.createElement(s.b,{className:"shoppingCartButton",to:"/shopping-cart/cart"},r.a.createElement(W.a,{icon:G.b,style:{color:"#ffffff"},size:"lg"}),r.a.createElement("span",{className:"itemsCount"},this.getItemsCount()))}}]),n}(r.a.Component)),$=(n(70),function(e){var t=e.items,n=e.searchProduct,a=e.products;return r.a.createElement("div",{className:"header"},r.a.createElement(s.b,{to:"/shopping-cart"},r.a.createElement(W.a,{icon:G.c,style:{color:"#f7ad22"},size:"lg",className:"star-icon"})),r.a.createElement("input",{placeholder:"Search",className:"searchBar",type:"text",onChange:function(e){return n(e.target.value,a)}}),r.a.createElement(W.a,{icon:G.a,style:{color:"#ffffff"},className:"search-icon",size:"lg"}),r.a.createElement(J,{items:t}))}),K=Object(o.b)((function(e){return{items:e.cartItems.cartItems,products:e.productList.items}}),(function(e){return{searchProduct:function(t,n){return e(function(e,t){return{type:"SEARCH_PRODUCT",text:e,items:t}}(t,n))}}}))($),X=(n(71),function(){return r.a.createElement("div",{className:"footer"},"\xa9 Copyright")});n(72);var Z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(K,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/shopping-cart",component:q}),r.a.createElement(u.a,{path:"/shopping-cart/cart",component:Y})),r.a.createElement(X,null)))},ee=n(43),te=function(e,t,n){var a={};if(e.cartItems.find((function(e){return e.name===t.name}))){var r=e.cartItems.map((function(e){return e.name===t.name?Object(R.a)({},e,{qty:"decrement"===n?e.qty-1:e.qty+1}):e}));a=Object(R.a)({},e,{cartItems:r})}else{var c=Object(R.a)({},t,{qty:1});a=Object(R.a)({},e,{cartItems:[].concat(Object(ee.a)(e.cartItems),[c])})}return a},ne={items:[],loading:!1,error:null},ae=Object(l.c)({cartItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return e.cartItems&&e.cartItems.length?te(e,t.items):Object(R.a)({},e,{cartItems:[Object(R.a)({},t.items,{qty:1})]});case"INCREMENT_QTY":return te(e,t.item);case"DECREMENT_QTY":return te(e,t.item,"decrement");case"REMOVE_PRODUCT":var n=e.cartItems.filter((function(e){return t.item.name!==e.name}));return Object(R.a)({},e,{cartItems:n});default:return e}},productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_BEGIN":return Object(R.a)({},e,{loading:!0,error:null});case"FETCH_PRODUCTS_SUCCESS":return Object(R.a)({},e,{loading:!1,items:t.payload.items});case"FETCH_PRODUCTS_FAILURE":return Object(R.a)({},e,{loading:!1,error:t.payload.error,items:[]});default:return e}},searchText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_PRODUCT":return Object(R.a)({},e,{text:t.text});default:return e}},filterValues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_PRODUCT":return Object(R.a)({},e,{filter:{lowerLimit:t.filter[0],upperLimit:t.filter[1]}});default:return e}},sortValues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_PRODUCT":return Object(R.a)({},e,{sort:t.sortBy});default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=n(42),ce=Object(l.d)(ae,Object(l.a)(re.a));i.a.render(r.a.createElement(o.a,{store:ce},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.9c44979a.chunk.js.map